#
#   function c.l.c:internal/place_table
#   @parent c.l.c:internal/detect_table 
#   @forward from command block
#

## Reposition Table
execute as @p[scores={Success=1}] if entity @s[y_rotation=45..135] align xz positioned ~.5 ~ ~.5 run summon minecraft:armor_stand ~ ~-0.5 ~ {PersistanceRequired:1,Rotation:[270f],DisabledSlots:2039583,Invisible:1b,NoGravity:1b,Small:1b,ArmorItems:[{},{},{},{id:"minecraft:dropper",Count:1b,tag:{CustomModelData:3001}}],ShowArms:1b,HandItems:[{id:"minecraft:wooden_shovel",Count:1b,tag:{CustomModelData:1005,Items:[]}}],Tags:["C.L.C_Table"]}
execute as @p[scores={Success=1}] if entity @s[y_rotation=-45..45] align xz positioned ~.5 ~ ~.5 run summon minecraft:armor_stand ~ ~-0.5 ~ {PersistanceRequired:1,Rotation:[180f],DisabledSlots:2039583,Invisible:1b,NoGravity:1b,Small:1b,ArmorItems:[{},{},{},{id:"minecraft:dropper",Count:1b,tag:{CustomModelData:3001}}],ShowArms:1b,HandItems:[{id:"minecraft:wooden_shovel",Count:1b,tag:{CustomModelData:1005,Items:[]}}],Tags:["C.L.C_Table"]}
execute as @p[scores={Success=1}] if entity @s[y_rotation=-135..-45] align xz positioned ~.5 ~ ~.5 run summon minecraft:armor_stand ~ ~-0.5 ~ {PersistanceRequired:1,Rotation:[90f],DisabledSlots:2039583,Invisible:1b,NoGravity:1b,Small:1b,ArmorItems:[{},{},{},{id:"minecraft:dropper",Count:1b,tag:{CustomModelData:3001}}],ShowArms:1b,HandItems:[{id:"minecraft:wooden_shovel",Count:1b,tag:{CustomModelData:1005,Items:[]}}],Tags:["C.L.C_Table"]}
execute as @p[scores={Success=1}] if entity @s[y_rotation=-180..-135] align xz positioned ~.5 ~ ~.5 run summon minecraft:armor_stand ~ ~-0.5 ~ {PersistanceRequired:1,Rotation:[0f],DisabledSlots:2039583,Invisible:1b,NoGravity:1b,Small:1b,ArmorItems:[{},{},{},{id:"minecraft:dropper",Count:1b,tag:{CustomModelData:3001}}],ShowArms:1b,HandItems:[{id:"minecraft:wooden_shovel",Count:1b,tag:{CustomModelData:1005,Items:[]}}],Tags:["C.L.C_Table"]}
execute as @p[scores={Success=1}] if entity @s[y_rotation=135..179.9] align xz positioned ~.5 ~ ~.5 run summon minecraft:armor_stand ~ ~-0.5 ~ {PersistanceRequired:1,Rotation:[0f],DisabledSlots:2039583,Invisible:1b,NoGravity:1b,Small:1b,ArmorItems:[{},{},{},{id:"minecraft:dropper",Count:1b,tag:{CustomModelData:3001}}],ShowArms:1b,HandItems:[{id:"minecraft:wooden_shovel",Count:1b,tag:{CustomModelData:1005,Items:[]}}],Tags:["C.L.C_Table"]}

## Place chest
setblock ~ ~ ~ chest[type=left]{CustomName:'"C.L.C Table"',x: -160, y: 5, z: -74, Items: [{Slot: 3b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 4b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 5b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData: 1006, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 7b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 12b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 14b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 15b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 16b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 17b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 21b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 22b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 23b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 24b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}, {Slot: 26b, id: "minecraft:wooden_shovel", Count: 1b, tag: {CustomModelData:1005, item_tags: ["gui"], HideFlags: 2, display: {Name: "{\"text\":\" \"}"}, Damage: 0}}]}

## Reset scores
scoreboard players reset @a[scores={Success=1..}] Success
